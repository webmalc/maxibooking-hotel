{% extends 'MBHUserBundle:Group:layout.html.twig' %}

{% set title = 'menu.label.users_and_roles'|trans %}
{% set small_title = 'layout.groups'|trans({}, 'FOSUserBundle')  %}
{% set layout = "box" %}

{% block content %}

    <table class="table table-striped table-hover table-condensed table-icons table-actions">
        <thead>
            <tr>
                <th class="td-xs"></th>
                <th class="td-md">{{ 'group.name'|trans({}, 'FOSUserBundle') }}</th>
                <th>{{ 'index.permissions'|trans({}, 'FOSUserBundle') }}</th>
                <th class="td-sm"></th>
            </tr>
        </thead>
        <tbody>
            {% for entity in entities %}
                <tr>
                    <td class="text-center table-icon"><i class="fa fa-users"></i></td>
                    <td>
                        {% embed 'MBHBaseBundle:Actions:entry_link.html.twig' with {'entity': entity, 'route': 'group'} %}{% endembed %}
                    </td>
                    <td>
                        {% for group in entity.roles %}<small>{% if loop.index0 > 0 %}, {% endif %}{{ group|trans({}, 'MBHUserBundleRoles') }}</small>{% endfor %}
                    </td>
                    <td class="table-actions-td text-center">
                        {% embed 'MBHBaseBundle:Actions:entry_actions.html.twig' with {'entity': entity, 'route': 'group'} %}{% endembed %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    {% include 'MBHBaseBundle:Actions:list.html.twig' with {'route': 'group_new', 'role': 'group'} %}

{% endblock %} 
